# é£ä¹¦æ¨é€é…ç½®

# Webhook é…ç½®
webhook:
  # Webhook URL ä»ç¯å¢ƒå˜é‡ FEISHU_WEBHOOK_URL è¯»å–
  # ä¹Ÿå¯ä»¥ç›´æ¥é…ç½®ï¼šurl: "https://open.feishu.cn/open-apis/bot/v2/hook/xxx"
  url_env: "FEISHU_WEBHOOK_URL"

  # ç­¾åå¯†é’¥ï¼ˆå¯é€‰ï¼Œä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰
  secret_env: "FEISHU_WEBHOOK_SECRET"

  # è¯·æ±‚è¶…æ—¶ï¼ˆç§’ï¼‰
  timeout: 10

# æ¨é€é¢‘ç‡æ§åˆ¶
rate_limit:
  min_interval: 60                # æœ€å°æ¨é€é—´éš”ï¼ˆç§’ï¼‰
  aggregation_window: 300         # èšåˆæ—¶é—´çª—å£ï¼ˆç§’ï¼‰
  dedup_window: 1800              # å»é‡æ—¶é—´çª—å£ï¼ˆç§’ï¼‰

  # é™é»˜æ—¶æ®µï¼ˆä¸æ¨é€ï¼‰
  silent_hours:
    enabled: true
    start: "23:00"
    end: "07:00"
    timezone: "Asia/Shanghai"

# é‡è¯•é…ç½®
retry:
  max_attempts: 3
  initial_delay: 1                # åˆå§‹é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
  backoff_multiplier: 3           # é‡è¯•å»¶è¿Ÿå€æ•°

# æ¨é€å†…å®¹é…ç½®
content:
  include_market_status: true     # æ˜¯å¦åŒ…å«å¸‚åœºçŠ¶æ€
  include_suggestions: true       # æ˜¯å¦åŒ…å«å»ºè®®æ“ä½œ
  max_opportunities: 5            # æœ€å¤šæ¨é€æœºä¼šæ•°

  # å¯ç”¨çš„é¢„è­¦çº§åˆ«
  alert_levels:
    - red                         # é£é™©
    - yellow                      # å…³æ³¨
    - green                       # æœºä¼š

# æ¶ˆæ¯æ¨¡æ¿é…ç½®
templates:
  # æ ‡é¢˜æ¨¡æ¿
  screening_opportunity_title: "ğŸ“ˆ {strategy} å¼€ä»“æœºä¼š"
  screening_no_opportunity_title: "ğŸ“Š ç­›é€‰å®Œæˆ - æš‚æ— æœºä¼š"
  market_unfavorable_title: "âš ï¸ å¸‚åœºç¯å¢ƒä¸åˆ© - å»ºè®®è§‚æœ›"
  risk_alert_title: "ğŸ”´ é£é™©é¢„è­¦ - {alert_type}"
  attention_alert_title: "ğŸŸ¡ å…³æ³¨æé†’ - {alert_type}"
  opportunity_alert_title: "ğŸŸ¢ å‘ç°æœºä¼š - {alert_type}"
  monitor_report_title: "ğŸ“‹ æŒä»“ç›‘æ§æŠ¥å‘Š"

  # å¡ç‰‡é¢œè‰²
  colors:
    opportunity: "green"
    no_opportunity: "grey"
    unfavorable: "yellow"
    risk: "red"
    attention: "yellow"
    info: "blue"

# æ—¥å¿—é…ç½®
logging:
  enabled: true
  log_file: "logs/notification.log"
  max_size_mb: 10
  backup_count: 5
